<!DOCTYPE html>
<html>
  <head>
    <title>Fullsail Class Finder</title>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
    <meta charset="utf-8">
    <style>
      html, body 
      {
        height: 100%;
        margin: 0;
        padding: 0;
      }

      #map 
      {
        display: inline-block;
        height: 95%;
        width: 100%;
        margin: 0;
      }

      #header
      {
        margin: 0;
        font-size: 30pt;
        color: black;
        background-color: #FFF;
        height: 75px;
      }

      #tools
      {
        margin:0;
        display: inline-block;
        background-color: #FFF;
        height: 30%;
      }
      
      #submit
      {
        align-self: center;
      }
      
      #logo
      {
        height: 70px;
      }

      a
      {
        text-decoration: underline;
        cursor: pointer;
      }
    </style>
  </head>
  <body>
    <div id="header"><img src="logo.png" id="logo" alt="Fullsail Logo"></div>
        <section id="tools">
      <p>Search Below</p>
      <label for="room">Room #
        <input type="text" name="room" id="room">
      </label>
      <button id="submit" onclick="DoSearch()">Submit</button>
      <p>
      Find a Building
      </p>

      <ul>
       <li> <a onclick="GoBuildA()">Building A</a></li>
      
        
        <li><a onclick="GoBuildG()">Building G</a></li>
      </ul>



    </section>
    <section id="map"></section>

    
    <script>

        //Variable Declartions
        var map;
        var rooms;
        var infoWindow;
        

        function GoBuildA()
        {
          DoMove({lat: 28.59282786, lng: -81.30535165});

        }

        function GoBuildG()
        {
          DoMove({lat: 28.590308, lng: -81.305318});

        }


        function DoSearch()
        {
          var userinput = document.getElementById("room").value;
          console.log("Got to Search Set to:" + userinput);
          if(userinput != null)
          {
            console.log("userinput is being checked. Set to:" + userinput);
            var found = rooms[userinput.toLowerCase()];
            if(found)
            {
              infoWindow.open(map, rooms[userinput.toLowerCase()]);
              console.log("Something was found, its :" +found);
              DoMove(found.position);
              document.getElementById("room").value = "";
            }
            else
            {
              alert("No room found for '" +userinput+"'");
            }

          }
          


          //DoMove( rooms["G104"].position);
        }

        function DoMove(pos)
        {
          //Do all the position moving
          map.setCenter(pos);
          map.setZoom(18);          
        }

      function initMap() 
      {
        map = new google.maps.Map(document.getElementById('map'), {
          center: {lat: 41.877358, lng: -87.630545},
          zoom: 6
        });


        /*
        FS4G-103 = 28.590308, -81.305318
        FS4G-101 = 28.590308, -81.305318



        */
        rooms = {

          "fs4g-103" : new google.maps.Marker({
        position: {lat: 28.590308, lng: -81.305318},
        map: map,        
        title: '4G Rooms 101, 103',
        content: '<div id="content">'+
          '<div id="siteNotice">'+
          '</div>'+
          '<h1 id="firstHeading" class="firstHeading">Rooms 101 & 103</h1>'+
          '<div id="bodyContent">'+
          '<p>This is a test listener, will this work? Who knows </p>'+
          '</div>'+
          '</div>'}), 

          "fs4g-101" : new google.maps.Marker({
        position: {lat: 28.590308, lng: -81.305318},
        map: map,        
        title: '4G Rooms 101, 103 Test', 
        content: '<div id="content">'+
          '<div id="siteNotice">'+
          '</div>'+
          '<h1 id="firstHeading" class="firstHeading">Rooms 101 & 103</h1>'+
          '<div id="bodyContent">'+
          '<p>This is a test listener, will this work? Who knows </p>'+
          '</div>'+
          '</div>'}), 


          
          "fs4a-102" : new google.maps.Marker({
        position: {lat: 28.59282786, lng: -81.30535165},
        map: map,
        title: '4A Room-102'}),


                      //28.592797, -81.305181
          "fs4a-103" : new google.maps.Marker({
        position: {lat: 28.592797, lng: -81.305181},
        map: map,
        title: '4A Rooms 103, 106, 108'}),

          "fs4a-106" : new google.maps.Marker({
        position: {lat: 28.5927971, lng: -81.3051811},
        map: map,
        title: '4A Rooms 103, 106, 108'}),

          "fs4a-108" : new google.maps.Marker({
        position: {lat: 28.592797, lng: -81.305181},
        map: map,
        title: '4A Rooms 103, 106, 108'}),


            //28.592225, -81.304248
          "fs4a-135" : new google.maps.Marker({
        position: {lat: 28.592225, lng: -81.304248},
        map: map,
        title: '4A Rooms 135, 138, 139'}),

          "fs4a-138" : new google.maps.Marker({
        position: {lat: 28.592225, lng: -81.304248},
        map: map,
        title: '4A Rooms 135, 138, 139'}),

          "fs4a-139" : new google.maps.Marker({
        position: {lat: 28.592225, lng: -81.304248},
        map: map,
        title: '4A Rooms 135, 138, 139'})

         };


         infoWindow = new google.maps.InfoWindow({content: rooms["fs4g-101"].content});


         rooms["fs4g-101"].addListener('click' ,function() 
         {
          console.log("pop");
          infoWindow.open(map, rooms["fs4g-101"]);
         });

        }


    

    </script>
    <script async defer
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAW_OX2owEVtGrcTZBu0UmeK8xdJg_turk&callback=initMap">
    </script>
  </body>
</html>